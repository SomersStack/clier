{"id":"clier-1f5","title":"Add log rotation and signal handling tests","description":"Missing test coverage for: (1) Log file rotation behavior in LogManager when files exceed maxFileSize, (2) Signal handling (SIGTERM/SIGINT) for graceful shutdown in Watcher and CLI commands, (3) Log persistence across multiple runs. These are critical production behaviors that should be validated.","status":"open","priority":3,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T15:46:40.804486+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T15:46:40.804486+08:00"}
{"id":"clier-1ks","title":"Phase 5: Testing \u0026 Example Scenarios","description":"Create example config (lint→build→api pipeline), write E2E tests (full pipeline execution with real PM2, circuit breaker triggering, continue-on-failure behavior, multi-pattern event emission), create documentation in /docs (API reference, configuration guide, example pipelines in /docs/examples/)","status":"closed","priority":2,"issue_type":"task","owner":"olliesomers1@gmail.com","created_at":"2026-01-21T13:06:42.298875+08:00","created_by":"OliverSomers","updated_at":"2026-01-21T14:51:12.034962+08:00","closed_at":"2026-01-21T14:51:12.034962+08:00","close_reason":"Closed","labels":["documentation","e2e-tests","phase5"],"dependencies":[{"issue_id":"clier-1ks","depends_on_id":"clier-f2w","type":"blocks","created_at":"2026-01-21T13:06:57.36844+08:00","created_by":"OliverSomers"}]}
{"id":"clier-1p0","title":"Phase 6: Testing daemon implementation","description":"Unit tests, integration tests, E2E tests for daemon","status":"open","priority":2,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T16:10:32.323597+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T16:10:32.323597+08:00","dependencies":[{"issue_id":"clier-1p0","depends_on_id":"clier-hnv","type":"blocks","created_at":"2026-01-22T16:12:42.939396+08:00","created_by":"Ollie Somers"}]}
{"id":"clier-1ws","title":"Remove PM2 references from documentation","description":"The documentation in docs/README.md still claims Clier is 'PM2-based' throughout, but PM2 was completely removed in commit 2111681. This creates confusion about what Clier actually is. Need to update all docs to describe the native child_process implementation, update architecture diagrams, and clarify the foreground process model vs daemon expectations.","status":"closed","priority":1,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T15:46:25.201266+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T17:11:32.361725+08:00","closed_at":"2026-01-22T17:11:32.361725+08:00","close_reason":"Documentation updated to reflect daemon architecture, all PM2 references removed"}
{"id":"clier-2si","title":"Implement native daemon architecture","status":"closed","priority":0,"issue_type":"feature","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T16:10:21.578042+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T17:10:27.312541+08:00","closed_at":"2026-01-22T17:10:27.312541+08:00","close_reason":"Daemon architecture fully implemented - Phases 1-4 complete with working multi-agent session support"}
{"id":"clier-5lk","title":"Phase 2: PM2 Installer Script","description":"Cross-platform PM2 installer: detect package manager (lockfiles), detect OS (Darwin/macOS/Linux/Windows), install PM2 globally with retry logic and exponential backoff, handle EACCES with helpful guidance (NVM, no sudo), verify installation (pm2 -v, pm2 ping, PATH), comprehensive error handling (network, permissions, package manager not found), write tests with mocked child processes","status":"closed","priority":2,"issue_type":"task","owner":"olliesomers1@gmail.com","created_at":"2026-01-21T13:06:02.062076+08:00","created_by":"OliverSomers","updated_at":"2026-01-21T13:55:58.27238+08:00","closed_at":"2026-01-21T13:55:58.27238+08:00","close_reason":"Closed","labels":["cross-platform","installer","phase2"],"dependencies":[{"issue_id":"clier-5lk","depends_on_id":"clier-izj","type":"blocks","created_at":"2026-01-21T13:06:56.978455+08:00","created_by":"OliverSomers"}]}
{"id":"clier-6pg","title":"CRITICAL: Restore daemon architecture for multi-session agent use","description":"The PM2 removal broke the fundamental use case: multiple short-lived Claude Code agent sessions managing the same pipeline. OLD PM2 BEHAVIOR: (1) 'clier start' started watcher as PM2 daemon, returned immediately (2) PM2 daemon persisted independently (3) Any terminal could run 'clier status/logs/stop' and access the same processes. NEW BROKEN BEHAVIOR: (1) 'clier start' blocks terminal forever (2) All state trapped in that process's memory (3) Other terminals can't access ProcessManager/LogManager instances. SOLUTION NEEDED: Restore daemon mode. Options: (A) Bring back PM2 dependency, (B) Implement native daemon using detached child_process + IPC/socket, (C) Use alternative daemon manager. The native implementation was correct to fix PM2's race condition, but removing daemon persistence was a fatal regression.","status":"closed","priority":0,"issue_type":"bug","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T15:53:07.679681+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T17:10:27.314599+08:00","closed_at":"2026-01-22T17:10:27.314599+08:00","close_reason":"Daemon architecture fully implemented - Phases 1-4 complete with working multi-agent session support"}
{"id":"clier-96o","title":"Add missing CLI integration tests","description":"Test suite has excellent unit (169 tests) and E2E coverage (14 tests), but zero CLI integration tests. Need tests for: clier start, clier stop, clier status, clier logs, clier validate commands. This is important because CLI commands interact with the filesystem, configuration loading, and process lifecycle in ways not covered by component tests.","status":"open","priority":2,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T15:46:35.598369+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T15:46:35.598369+08:00"}
{"id":"clier-av7","title":"Implement circular dependency detection in Orchestrator","description":"The documentation claims Clier validates circular dependencies in pipeline configuration, and orchestrator.ts has comments about checking for circular dependencies, but the validation in validatePipeline() (lines 96-145) only checks for missing event references, not cycles. Need to implement actual circular dependency detection using graph traversal (e.g., DFS-based cycle detection) to prevent infinite trigger loops.","status":"open","priority":3,"issue_type":"feature","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T15:46:45.995721+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T15:46:45.995721+08:00"}
{"id":"clier-c3z","title":"Phase 7: Documentation \u0026 polish","description":"Update docs, add diagrams, troubleshooting guide","status":"open","priority":3,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T16:10:32.424123+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T16:10:32.424123+08:00","dependencies":[{"issue_id":"clier-c3z","depends_on_id":"clier-1p0","type":"blocks","created_at":"2026-01-22T16:12:42.993811+08:00","created_by":"Ollie Somers"}]}
{"id":"clier-c6y","title":"Phase 4: Configuration reload","description":"Implement hot reload in Watcher, update reload command","status":"closed","priority":2,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T16:10:32.121445+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T17:06:03.826368+08:00","closed_at":"2026-01-22T17:06:03.826368+08:00","close_reason":"Phase 4 complete: Configuration reload implemented and working","dependencies":[{"issue_id":"clier-c6y","depends_on_id":"clier-f7d","type":"blocks","created_at":"2026-01-22T16:12:42.831257+08:00","created_by":"Ollie Somers"}]}
{"id":"clier-f2w","title":"Phase 4: CLI Tool Implementation","description":"Build CLI with commands: start (load config, validate with Zod, start watcher, start entry points), stop (stop all processes), status (show running processes), logs \u003cname\u003e (tail logs), reload (reload config without restart), validate (validate schema, fail immediately on error). Implement start logic: read clier-pipeline.json, validate schema, inherit process.env, generate PM2 ecosystem in memory, start watcher first, then entry points. Write integration tests.","status":"closed","priority":2,"issue_type":"task","owner":"olliesomers1@gmail.com","created_at":"2026-01-21T13:06:25.679791+08:00","created_by":"OliverSomers","updated_at":"2026-01-21T14:35:59.753532+08:00","closed_at":"2026-01-21T14:35:59.753532+08:00","close_reason":"Closed","labels":["cli","integration-tests","phase4"],"dependencies":[{"issue_id":"clier-f2w","depends_on_id":"clier-wig","type":"blocks","created_at":"2026-01-21T13:06:57.239158+08:00","created_by":"OliverSomers"}]}
{"id":"clier-f7d","title":"Phase 2: Process management integration","description":"Expose ProcessManager via controller, update start/stop/status commands","status":"closed","priority":1,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T16:10:31.9208+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T17:05:10.398075+08:00","closed_at":"2026-01-22T17:05:10.398075+08:00","close_reason":"Phases 2\u00263 complete: ProcessManager and LogManager integrated with CLI commands","dependencies":[{"issue_id":"clier-f7d","depends_on_id":"clier-vyv","type":"blocks","created_at":"2026-01-22T16:12:42.721528+08:00","created_by":"Ollie Somers"}]}
{"id":"clier-hnv","title":"Phase 5: Robustness \u0026 error handling","description":"Handle stale files, health checks, graceful shutdown, recovery","status":"open","priority":2,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T16:10:32.220534+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T16:10:32.220534+08:00","dependencies":[{"issue_id":"clier-hnv","depends_on_id":"clier-f7d","type":"blocks","created_at":"2026-01-22T16:12:42.884493+08:00","created_by":"Ollie Somers"}]}
{"id":"clier-i1b","title":"Clier: PM2-Based Process Orchestration Framework","status":"closed","priority":2,"issue_type":"task","owner":"olliesomers1@gmail.com","created_at":"2026-01-21T13:05:24.231306+08:00","created_by":"OliverSomers","updated_at":"2026-01-21T15:21:15.200958+08:00","closed_at":"2026-01-21T15:21:15.200958+08:00","close_reason":"Closed","labels":["epic","typescript"]}
{"id":"clier-iad","title":"Phase 6: Production Hardening","description":"Error handling across all modules, structured logging with Winston, performance testing (100+ events/sec), memory leak testing, cross-platform testing (macOS, Linux, Windows), final code review and refinement","status":"closed","priority":2,"issue_type":"task","owner":"olliesomers1@gmail.com","created_at":"2026-01-21T13:06:51.689587+08:00","created_by":"OliverSomers","updated_at":"2026-01-21T15:19:24.099329+08:00","closed_at":"2026-01-21T15:19:24.099329+08:00","close_reason":"Closed","labels":["performance","phase6","production"],"dependencies":[{"issue_id":"clier-iad","depends_on_id":"clier-1ks","type":"blocks","created_at":"2026-01-21T13:06:57.497112+08:00","created_by":"OliverSomers"}]}
{"id":"clier-izj","title":"Phase 1: Project Setup \u0026 Configuration Schema","description":"Initialize TypeScript project with ESM, install dependencies (pm2, zod, bottleneck, opossum, winston, vitest), create Zod schema for clier-pipeline.json config, write TDD tests for schema validation","status":"closed","priority":2,"issue_type":"task","owner":"olliesomers1@gmail.com","created_at":"2026-01-21T13:05:49.970821+08:00","created_by":"OliverSomers","updated_at":"2026-01-21T13:34:50.666361+08:00","closed_at":"2026-01-21T13:34:50.666361+08:00","close_reason":"Closed","labels":["phase1","tdd","typescript"],"dependencies":[{"issue_id":"clier-izj","depends_on_id":"clier-i1b","type":"blocks","created_at":"2026-01-21T13:06:56.84127+08:00","created_by":"OliverSomers"}]}
{"id":"clier-kk0","title":"Phase 3: Log management integration","description":"Expose LogManager via controller, update logs command","status":"closed","priority":1,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T16:10:32.022714+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T17:05:10.409869+08:00","closed_at":"2026-01-22T17:05:10.409869+08:00","close_reason":"Phases 2\u00263 complete: ProcessManager and LogManager integrated with CLI commands","dependencies":[{"issue_id":"clier-kk0","depends_on_id":"clier-vyv","type":"blocks","created_at":"2026-01-22T16:12:42.776798+08:00","created_by":"Ollie Somers"}]}
{"id":"clier-mdz","title":"Update project status and versioning in README","description":"Root README.md states project is in 'Phase 1: Project Setup \u0026 Configuration Schema' with upcoming phases for PM2 installer, core engine, etc. But the project is actually fully functional with 214 passing tests and all features implemented. Version is 0.2.0 but completeness suggests at least 0.5.0. Update README to reflect actual project state and maturity.","status":"open","priority":2,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T15:46:51.194511+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T15:46:51.194511+08:00"}
{"id":"clier-qsz","title":"Investigate reload command functionality","description":"The CLI has a 'clier reload' command (src/cli/commands/reload.ts) inherited from the PM2 implementation. With PM2 removed, there's no daemon to send reload signals to. Need to investigate: (1) Does this command still work? (2) What should reload do in a foreground process model? (3) Should it be removed, repurposed, or does it need a different implementation?","status":"closed","priority":2,"issue_type":"bug","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T15:46:30.403414+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T17:10:30.07295+08:00","closed_at":"2026-01-22T17:10:30.07295+08:00","close_reason":"Reload command now works via daemon IPC - hot reloads configuration without restart"}
{"id":"clier-vyv","title":"Phase 1: Core daemon infrastructure","description":"Implement Daemon class, DaemonServer, DaemonController, DaemonClient, lifecycle management","status":"closed","priority":0,"issue_type":"task","owner":"ollie@aglaiaim.com","created_at":"2026-01-22T16:10:31.818489+08:00","created_by":"Ollie Somers","updated_at":"2026-01-22T16:19:15.292445+08:00","closed_at":"2026-01-22T16:19:15.292445+08:00","close_reason":"Phase 1 complete: Core daemon infrastructure implemented with all IPC components and CLI commands updated"}
{"id":"clier-wig","title":"Phase 3: Core Watcher Service","description":"Build orchestration engine with: PM2 launchBus integration (log:out, log:err, process:event), regex pattern matching on stdout/stderr (emit ALL matching events), event emission (:success on exit 0, :error on stderr, :crashed on crash), pipeline orchestration (track triggers, start dependents via PM2 API, handle continue_on_failure), safety mechanisms (debounce, rate limiting with Bottleneck, circuit breaker with Opossum, webhook via event system), write unit tests mocking PM2 APIs","status":"closed","priority":2,"issue_type":"task","owner":"olliesomers1@gmail.com","created_at":"2026-01-21T13:06:15.253699+08:00","created_by":"OliverSomers","updated_at":"2026-01-21T14:18:32.209286+08:00","closed_at":"2026-01-21T14:18:32.209286+08:00","close_reason":"Closed","labels":["core","orchestration","phase3","tdd"],"dependencies":[{"issue_id":"clier-wig","depends_on_id":"clier-5lk","type":"blocks","created_at":"2026-01-21T13:06:57.109978+08:00","created_by":"OliverSomers"}]}
